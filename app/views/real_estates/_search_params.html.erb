<h4 class="profile-link"> <%= link_to '<i class="glyphicon glyphicon-search"></i> Search'.html_safe, real_estates_path, :id => 'search-link' %> </h4>
<div id="search-params" style="display: none">
  <%= form_tag action, :method => 'get', :id => "realestate_search" do %>
      <h4> Price </h4>
      <div class="search-div">
        <p>
          From:
          <%= number_field_tag :price_from, params[:price_from] %>
          To:
          <%= number_field_tag :price_to, params[:price_to] %>
        </p>

        <% if order %>
            <h5>Order by</h5>
            <p>
              <%= radio_button_tag(:order_by_price, "asc") %>
              <%= label_tag(:order_by_price, "From smallest") %>
              <%= radio_button_tag(:order_by_price, "desc") %>
              <%= label_tag(:order_by_price_desc, "From largest") %>
              <%= radio_button_tag(:order_by_price, "none", :checked) %>
              <%= label_tag(:order_by_price_none, "None") %>
            </p>
        <% end %>
      </div>
      <h4> Address </h4>
      <div class="search-div">
        <p>
          Near:
          <%= text_field_tag :address, params[:address] %>
          Within (km) :
          <%= number_field_tag :distance, params[:distance], :min => 1 %>
        </p>
      </div>
      <h4> Floor </h4>
      <div class="search-div">
        <p>
          From:
          <%= number_field_tag :floor_from, params[:floor_from] %>
          To:
          <%= number_field_tag :floor_to, params[:floor_to] %>
        </p>
      </div>
      <h4> Size </h4>
      <div class="search-div">
        <p>
          From:
          <%= number_field_tag :size_from, params[:size_from] %>
          To:
          <%= number_field_tag :size_to, params[:size_to] %>
        </p>
      </div>
      <h4> Room Number </h4>
      <div class="search-div">
        <p>
          From:
          <%= number_field_tag :rooms_from, params[:rooms_from] %>
          To:
          <%= number_field_tag :rooms_to, params[:rooms_to] %>
        </p>
      </div>
      <h4> Other</h4>
      <div class="search-div">
        <p>
          <%= label_tag(:balcony, "Balcony:") %>
          <%= select_tag(:balcony, options_for_select([['Yes', 't'], ['No', 'f']], params[:balcony]), :include_blank => true) %>

          <%= label_tag(:renovated, "Renovated:") %>
          <%= select_tag(:renovated, options_for_select([['Yes', 't'], ['No', 'f']], params[:renovated]), :include_blank => true) %>

          <%= label_tag(:elevator, "Elevator:") %>
          <%= select_tag(:elevator, options_for_select([['Yes', 't'], ['No', 'f']], params[:elevator]), :include_blank => true) %>

          <%= label_tag(:old_building, "Old Building:") %>
          <%= select_tag(:old_building, options_for_select([['Yes', 't'], ['No', 'f']], params[:old_building]), :include_blank => true) %>
        </p>
      </div>
      <div style="padding-top: 5px">
        <%= submit_tag "Search", :name => nil, :style => "padding-top:5px" %>
      </div>
  <% end %>
</div>

<script>
    jQuery("#search-link").click(function (event) {
        if (jQuery("#search-params").css("display") === "none")
            jQuery("#search-params").css("display", "block");
        else if (jQuery("#search-params").css("display") === "block")
            jQuery("#search-params").css("display", "none");
        event.preventDefault(); // Prevent link from following its href
    });
</script>